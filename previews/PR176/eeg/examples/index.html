<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Example · Neuroimaging.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Neuroimaging.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../types/">Types</a></li><li><span class="tocitem">Usage/Implementation Details</span><ul><li><a class="tocitem" href="../../usage/access/">Accessing data</a></li><li><a class="tocitem" href="../../usage/filter/">Filtering</a></li></ul></li><li><span class="tocitem">General EEG Processing</span><ul><li><a class="tocitem" href="../eeg/">Overview</a></li><li class="is-active"><a class="tocitem" href>Example</a><ul class="internal"><li><a class="tocitem" href="#Import-EEG-measurement-in-to-Neuroimaging.jl-for-analysis"><span>Import EEG measurement in to Neuroimaging.jl for analysis</span></a></li><li><a class="tocitem" href="#Probe-information-about-the-EEG-measurement"><span>Probe information about the EEG measurement</span></a></li><li><a class="tocitem" href="#Basic-signal-processing-for-EEG-data"><span>Basic signal processing for EEG data</span></a></li><li><a class="tocitem" href="#Visualise-continuous-EEG-data"><span>Visualise continuous EEG data</span></a></li><li><a class="tocitem" href="#Extract-underlying-data-for-custom-analysis"><span>Extract underlying data for custom analysis</span></a></li><li><a class="tocitem" href="#Conclusion"><span>Conclusion</span></a></li></ul></li><li><a class="tocitem" href="../functions/">API</a></li></ul></li><li><span class="tocitem">Steady State Responses (EEG)</span><ul><li><a class="tocitem" href="../../assr/assr/">Overview</a></li><li><a class="tocitem" href="../../assr/examples/">Example</a></li><li><a class="tocitem" href="../../assr/functions/">API</a></li></ul></li><li><span class="tocitem">Transient Responses (EEG)</span><ul><li><a class="tocitem" href="../../tr/transient/">Overview</a></li><li><a class="tocitem" href="../../tr/examples/">Example</a></li></ul></li><li><span class="tocitem">Coordinate Systems</span><ul><li><a class="tocitem" href="../../coord/examples/">Example</a></li></ul></li><li><span class="tocitem">Source Modelling</span><ul><li><a class="tocitem" href="../../source/examples/">Example</a></li></ul></li><li><a class="tocitem" href="../../IO/">Input/Output Support</a></li><li><a class="tocitem" href="../../api/">Low-Level API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">General EEG Processing</a></li><li class="is-active"><a href>Example</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Example</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rob-luke/Neuroimaging.jl/blob/master/docs/src/eeg/examples.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h1><p>This example demonstrates basic processing of an EEG measurement with Neuroimaging.jl`. An example file is imported, and the basic properties of the data structure are reported including sampling rate and channel information. Simple preprocessing, such as referencing and channel manipulation is demonstrated. And the data of a single channel and multiple channels is visualised.</p><div class="admonition is-info"><header class="admonition-header">Refactoring in progress</header><div class="admonition-body"><p>This example demonstrates the existing capabilities of the package. General improvements are planned to this package. But before changes are made, the existing features and functions will be documented. This will help to highlight was has already been implemented, and where improvements need to be made. For a rough plan of how the package is being redeveloped see the GitHub issues and <a href="https://github.com/rob-luke/Neuroimaging.jl/projects/1">project board</a>.</p></div></div><h2 id="Import-EEG-measurement-in-to-Neuroimaging.jl-for-analysis"><a class="docs-heading-anchor" href="#Import-EEG-measurement-in-to-Neuroimaging.jl-for-analysis">Import EEG measurement in to Neuroimaging.jl for analysis</a><a id="Import-EEG-measurement-in-to-Neuroimaging.jl-for-analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Import-EEG-measurement-in-to-Neuroimaging.jl-for-analysis" title="Permalink"></a></h2><p>The first step in this example is to import the required packages. In addition to importing the <code>Neuroimaging.jl</code> package, the <code>DataDeps</code> package is imported to facilitate access to the example dataset <em>ExampleSSR</em> which contains an example EEG measurement in the Biosemi data format.</p><p>To read the data the function <code>read_EEG</code> is used. This returns the data as a <code>GeneralEEG</code> type which stores EEG measurements that are not associated with any particular experimental paradigm.</p><pre><code class="language-julia hljs">using Neuroimaging, DataDeps

data_path = joinpath(
    datadep&quot;ExampleSSR&quot;,
    &quot;Neuroimaging.jl-example-data-master&quot;,
    &quot;neuroimaingSSR.bdf&quot;,
)

s = read_EEG(data_path)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EEG measurement of 5.0 mins with 7 channels sampled at 8192.0 Hz
</code></pre><p>To view a summary of the returned data simply call the returned variable.</p><pre><code class="language-julia hljs">s</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EEG measurement of 5.0 mins with 7 channels sampled at 8192.0 Hz
</code></pre><h2 id="Probe-information-about-the-EEG-measurement"><a class="docs-heading-anchor" href="#Probe-information-about-the-EEG-measurement">Probe information about the EEG measurement</a><a id="Probe-information-about-the-EEG-measurement-1"></a><a class="docs-heading-anchor-permalink" href="#Probe-information-about-the-EEG-measurement" title="Permalink"></a></h2><p>The summary output of the imported data only includes basic information. Several functions are provided to access more detailed aspects of the recording. To list the names of the channels in this measurement call:</p><pre><code class="language-julia hljs">channelnames(s)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">7-element Vector{String}:
 &quot;F5&quot;
 &quot;TP7&quot;
 &quot;O1&quot;
 &quot;F6&quot;
 &quot;Cz&quot;
 &quot;TP8&quot;
 &quot;O2&quot;</code></pre><p>Similarly to query the sample rate of the measurement.  Internally <code>Neuroimaging.jl</code> makes extensive use of the <code>Uniful</code> package and stores many values with their associated units. To obtain the sampling rate in Hz as a floating point number call:</p><pre><code class="language-julia hljs">samplingrate(s)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">8192.0 Hz</code></pre><div class="admonition is-success"><header class="admonition-header">Accessing data structure fields</header><div class="admonition-body"><p>Note that we call the function <code>channelnames</code>, and do not access properties of the type itself. This allows the use of the same functions across multiple datatypes due to the excellent dispatch system in the Julia language. Accessing the fields of data types directly is not supported in <code>Neuroimaging.jl</code> and may break at any time. If you wish to access an internal type field and a function is not provided then raise a GitHub issue.</p></div></div><h2 id="Basic-signal-processing-for-EEG-data"><a class="docs-heading-anchor" href="#Basic-signal-processing-for-EEG-data">Basic signal processing for EEG data</a><a id="Basic-signal-processing-for-EEG-data-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-signal-processing-for-EEG-data" title="Permalink"></a></h2><p>Once data is imported then standard preprocessing procedures can be applied. For example to rereference the data to the <code>Cz</code> channel call:</p><pre><code class="language-julia hljs">s = rereference(s, &quot;Cz&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EEG measurement of 5.0 mins with 7 channels sampled at 8192.0 Hz
</code></pre><p>After which the Cz channel will not contain meaningful information any longer. So you may wish to remove it from further analysis. You can remove multiple channels by providing an array of channel names by calling:</p><pre><code class="language-julia hljs">remove_channel!(s, [&quot;Cz&quot;, &quot;TP7&quot;])
s</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EEG measurement of 5.0 mins with 5 channels sampled at 8192.0 Hz
</code></pre><p>And the resulting data structure will now have less channels as the output describes.</p><h2 id="Visualise-continuous-EEG-data"><a class="docs-heading-anchor" href="#Visualise-continuous-EEG-data">Visualise continuous EEG data</a><a id="Visualise-continuous-EEG-data-1"></a><a class="docs-heading-anchor-permalink" href="#Visualise-continuous-EEG-data" title="Permalink"></a></h2><p>It is also useful to visualise the EEG data. You can view a single channel or subset of channels by passing the string or strings you wish to plot.</p><pre><code class="language- hljs">using Plots # hide
plot(s, &quot;F6&quot;)
current() |&gt; DisplayAs.PNG # hide</code></pre><p>Or you can plot all channels by calling <code>plot</code> with no arguments.</p><pre><code class="language- hljs">using Plots # hide
plot(s)
current() |&gt; DisplayAs.PNG # hide</code></pre><h2 id="Extract-underlying-data-for-custom-analysis"><a class="docs-heading-anchor" href="#Extract-underlying-data-for-custom-analysis">Extract underlying data for custom analysis</a><a id="Extract-underlying-data-for-custom-analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Extract-underlying-data-for-custom-analysis" title="Permalink"></a></h2><p>You may wish to run your own analysis on the underlying raw data array. To access the raw data call:</p><pre><code class="language-julia hljs">data(s)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2621440×5 Matrix{Float32}:
 -3824.5   27151.1  13743.7  7320.19  22253.4
 -3823.03  27151.9  13746.7  7321.66  22252.7
 -3822.38  27152.1  13746.8  7323.28  22252.1
 -3822.81  27149.8  13747.8  7322.72  22252.9
 -3824.28  27148.5  13748.9  7321.91  22253.5
 -3820.72  27150.3  13751.6  7324.84  22252.3
 -3821.72  27149.8  13750.7  7323.5   22251.9
 -3823.56  27146.8  13747.9  7321.81  22246.8
 -3822.59  27149.8  13748.3  7321.22  22246.1
 -3823.28  27153.8  13749.4  7320.59  22251.1
     ⋮                                
 -3585.47  27258.9  14071.9  7578.09  22299.2
 -3586.56  27256.2  14071.5  7577.59  22296.1
 -3587.38  27253.7  14072.5  7576.59  22295.0
 -3584.69  27254.4  14072.6  7578.0   22298.4
 -3584.0   27253.3  14069.1  7577.53  22296.9
 -3583.09  27254.5  14069.6  7577.88  22298.5
 -3580.88  27255.1  14071.2  7578.34  22296.7
 -3581.56  27252.0  14070.8  7576.03  22295.5
 -3581.0   27251.0  14073.4  7576.72  22298.9</code></pre><p>Or to access a subset of channels call:</p><pre><code class="language-julia hljs">data(s, [&quot;F6&quot;, &quot;F5&quot;])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2621440×2 Matrix{Float32}:
 13743.7  -3824.5
 13746.7  -3823.03
 13746.8  -3822.38
 13747.8  -3822.81
 13748.9  -3824.28
 13751.6  -3820.72
 13750.7  -3821.72
 13747.9  -3823.56
 13748.3  -3822.59
 13749.4  -3823.28
     ⋮    
 14071.9  -3585.47
 14071.5  -3586.56
 14072.5  -3587.38
 14072.6  -3584.69
 14069.1  -3584.0
 14069.6  -3583.09
 14071.2  -3580.88
 14070.8  -3581.56
 14073.4  -3581.0</code></pre><h2 id="Conclusion"><a class="docs-heading-anchor" href="#Conclusion">Conclusion</a><a id="Conclusion-1"></a><a class="docs-heading-anchor-permalink" href="#Conclusion" title="Permalink"></a></h2><p>A demonstration of how to read in EEG data was provided. A brief explanation of how to query the returned data type was discussed. Basic signal processing and plotting was demonstrated.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../eeg/">« Overview</a><a class="docs-footer-nextpage" href="../functions/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.7 on <span class="colophon-date" title="Saturday 2 October 2021 08:15">Saturday 2 October 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
